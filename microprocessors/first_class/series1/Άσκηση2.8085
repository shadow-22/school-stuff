ORG 0800H
IN 10H       ;ÁÐÅÍÅÑÃÏÐÏÉÇÓÇ ÐÑÏÓÔÁÓÉÁÓ ÌÍÇÌÇÓ
LXI B,01F4H  ;ÊÁÈÏÑÉÓÌÏÓ ×ÑÏÍÏÊÁÈÕÓÔÅÑÇÓÇÓ DELB (500msec--->01F4H)
MVI E,01H    ;Å<---ÔÑÅ×ÏÍ ÁÍÁÌÌÅÍÏ LED 
MOV A,E
CMA 
STA 3000H    ;ÅÊÊÉÍÇÓÇ LED ÁÐÏ ÔÏ LSB

START:
LDA 2000H    ;ËÇØÇ ÅÉÓÏÄÏÕ
RRC          ;/ÅËÅÃ×ÏÓ LSB: AN LSB=1, 
JC START     ;ÄÉÁÔÇÑÇÓÇ ÐÁÑÏÕÓÁÓ ÊÁÔÁÓÔÁÓÇÓ ÊÁÉ ËÇØÇ ÍÅÁÓ ÅÉÓÏÄÏÕ
LDA 2000H    ;ËÇØÇ ÅÉÓÏÄÏÕ
RLC          ;/ÅËÅÃ×ÏÓ MSB: AN MSB=1, 
JC RIGHT     ;/ÊÉÍÇÓÇ LED ÐÑÏÓ ÔÁ ÄÅÎÉÁ, ÁËËÉÙÓ ÐÑÏÓ ÔÁ ÁÑÉÓÔÅÑÁ

LEFT:        ;ÁÑÉÓÔÅÑÁ
CALL DELB    ;×ÑÏÍÏÊÁÈÕÓÔÅÑÇÓÇ 0,5 SEC
MOV A,E 
RLC          ;ÁÑÉÓÔÅÑÇ ÏËÉÓÈÇÓÇ ÔÏÕ LED ÊÁÔÁ ÌÉÁ ÈÅÓÇ
MOV E,A
CMA          ;ÁÍÔÉÓÔÑÏÖÇ ÅÎÏÄÏÕ ÙÓÔÅ ÌÏÍÏ ÔÏ ÊÉÍÏÕÌÅÍÏ LED NA EINAI ANAÌMENO
STA 3000H    ;ÅÎÏÄÏÓ ÓÔÁ LED 
JMP START    ;ËÇØÇ ÍÅÁÓ ÅÉÓÏÄÏÕ

RIGHT:       ;ÄÅÎÉÁ
CALL DELB    ;×ÑÏÍÏÊÁÈÕÓÔÅÑÇÓÇ 0,5 SEC
MOV A,E      
RRC          ;ÄÅÎÉÁ ÏËÉÓÈÇÓÇ ÔÏÕ LED ÊÁÔÁ ÌÉÁ ÈÅÓÇ
MOV E,A
CMA          ;ÁÍÔÉÓÔÑÏÖÇ ÅÎÏÄÏÕ ÙÓÔÅ ÌÏÍÏ ÔÏ ÊÉÍÏÕÌÅÍÏ LED NA EINAI ANAÌMENO
STA 3000H    ;ÅÎÏÄÏÓ ÓÔÁ LED 
JMP START    ;ËÇØÇ ÍÅÁÓ ÅÉÓÏÄÏÕ


END


