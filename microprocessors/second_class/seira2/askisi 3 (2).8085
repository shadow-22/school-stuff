ORG 0800H

IN 10H

START:
LXI B,0000H ;аявийопоигсг тым бC
LXI H,0900H
LDA 2000H   ;кгьг еисодоу
RLC ;екевцос пяосглоу
JC MINUS

POSITIVE: 
INX H ;/л+2: тяито ьгжио емдеийтг
INX H ;/
MVI M,10H ;аяихлос хетийос --> пяосгло йемо
DCX H ;/епамажояа стгм аявийг диеухумсг
DCX H ;/
RRC  ;епамажояа тоу а 
CPI 64H ;суцйяисг ле то 100
JM CONVERTER ; в<100? пяовыяа стг летатяопг тгс еисодоу се дейадийо аяихло
LXI B,1119H  ; в>=100?: бC<--ги
JMP DISPLAY  


MINUS:
INX H ;/л+2: тяито ьгжио охомгс
INX H ;/
MVI M,1CH ;аяихлос аямгтийос --> пяосгло "-"
DCX H ;/епамажояа стгм аявийг диеухумсг
DCX H ;/
RRC   ;епамажояа тоу а
CPI 9DH ;суцйяисг ле то -99
JP FIXMIN ; в>=-99? пяовыяа стг летатяопг тгс еисодоу се дейадийо аяихло 
LXI B,1200H ; в<-99?: бC<--LO 
JMP DISPLAY


FIXMIN:
CMA   ;/сулпкгяыла ыс пяос 2
INR A ;/


CONVERTER: ;летатяопг еисодоу се дейадийо аяихло
CPI 09H    ;суцйяисг ле то 9
JM MONAD   ;/ в<=9?
JZ MONAD   ;/

DEC: ; циа в>9
INR B  ;летягтгс дейадым (дейадес--->б)
SUI 0AH ;-10
CPI 09H 
JM MONAD ;<9? ой
JZ MONAD ;=9? ой
JMP DEC  ;>9? сумевисе ма летяас дейадес

MONAD:
MOV C,A ;ломадес--->C



DISPLAY:
MOV M,C ;летайимгсг ломадым стгм 1Г хесг лмглгс (1О ьгжио охомгс)
INX H   
MOV M,B ;летайимгсг дейадым стгм 2Г хесг лмглгс (2О ьгжио охомгс)
INX H      ;/елжамисг йемоу стис 3 текеутаиес хесеис тгс охомгс
INX H
MVI M,10H 
INX H
MVI M,10H
INX H
MVI M,10H  ;/

LXI D,0900H
CALL STDM
CALL DCD

JMP START

END