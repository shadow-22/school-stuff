ORG 0800H

MVI B,03H ; ARXIKOPOIHSH GIA DELB
MVI C,E8H
MVI E,01H
UP:       ; PRWTA ANEBAINEI

LDA 2000H ; SE KATHE EPANALHPSH PROS TA PANW
RLC       ; GINETAI ELEGXOS EISODOY
JNC DOWN   ; AN TO MSB DEN EINAI 1 KSANAPARE EISODO KAI PAGWSE TO
INR D     ; AYKSHSH TOY METRHTH-XRONOMETROY
LDA 2000H
ANI 0FH
MOV E,A
MOV A,D
CMA
STA 3000H
CALL DELB ; DELB
CMA
SUB E   ; ELEGXOS AN EXEI FTASEI STO 15
JZ DOWN   ; AN NAI, PHGAINE STO DOWN
JMP UP    ; DIAFORETIKA +1

DOWN:

LDA 2000H ; ELEGXOS EISODOU
RLC       ; AN TO MSB GINEI 0
JNC DOWN ; PHGAINE STO STOP
DCR D
MOV A,D
CMA
STA 3000H
CALL DELB
CMA
SUI 00H   ; AN GINEI O METRHTHS 0 
JZ UP     ; PHGAINE STO UP
JMP DOWN  ; DIAFORETIKA -1


END

